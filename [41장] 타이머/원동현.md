# 41장 타이머

## 호출 스케줄링

-  함수를 일정 시간이 경과된 이후에 호출되도록 함수 호출을 예약하려면 타이머 함수를 사용한다.

-  이를 호출 스케줄링이라고 한다.

-  자바스크립트는 타이머를 생성할 수 있는 타이머 함수 setTimeout과 setInterval, 타이머를 제거할 수 있는 타이머 함수 clearTimeout과 clearInterval을 제공한다.

-  타이머 함수는 ECMAScript 사양에 정의된 빌트인 함수가 아닌 호스트 객체이다. (호스트 객체는 ECMAScript 사양에 정의되어 있지 않지만 자바스크립트 실행 환경1(브라우저 환경 또는 Node.js 환경)에서 추가로 제공하는 객체를 말한다.)

-  setTimeout 함수가 생성한 타이머는 단 한 번 동작하고, setInterval 함수가 생성한 타이머는 반복 동작한다. 즉, setTimeout 함수의 콜백 함수는 타이머가 만료되면 단 한 번 호출되고, setInterval 함수의 콜백 함 수는 타이머가 만료될 때마다 반복 호출된다.

-  자바스크립트 엔진은 `싱글 스레드single thread`로 동작한다. 이런 이유로 타이머 함수 setTimeout과 setInterval은 `비동기asynchronous` 처리 방식으로 동작한다.

## 타이머 함수

- ### setTimeout / clearTimeout

<img width="1157" alt="image" src="https://github.com/Yoonkyoungme/js-deep-dive-study/assets/76903801/c903907e-27b4-4d3a-b67a-a866c2659b8e">

- setTimeout 함수는 생성된 타이머를 식별할 수 있는 고유한 타이머 id를 반환한다. setTimeout 함수가 반환한 타이머 id는 브라우저 환경인 경우 숫자이며 Node.js 환경인 경우 객체다.

- setTimeout 함수가 반환한 타이머 id를 clearTimeout 함수의 인수로 전달하여 타이머를 취소할 수 있다. 즉, clearTimeout 함수는 호출 스케줄링을 취소한다

- ### setInterval / clearInterval

- setInterval 함수는 두 번째 인수로 전달받은 시간(ms, 1/1000초)으로 반복 동작하는 타이머를 생성한다. 타이머가 취소될 때 까지 계속된다.

- setInterval 함수에 전달할 인수는 setTimeout 함수와 동일하다.

- setInterval 함수가 반환한 타이머 id를 clearInterval 함수의 인수로 전달하여 타이머를 취소할 수 있다.

## 디바운스와 스로틀

- scroll,resize,input,mousemove 같은 이벤트는 짧은 시간 연속해서 발생한다.이러한 이벤트에 바인딩한 이벤트 핸들러는 과도하게 호출되어 성능에 문제를 일으킬 수 있다.

- 디바운스와 스로틀은 이벤트를 처리할 때 매우 유용하다. 디바운스와 스로틀의 구현에는 타이머 함수가 사용된다. 디바운스와 스로틀을 통해 타이머 함수의 활용에 대해 살펴보자.

- ### 디바운스

- 디바운스debounce는 짧은 시간 간격으로 이벤트가 연속해서 발생하면 이벤트 핸들러를 호출하지 않다가 일정시간이 경과한 이후에 이벤트 핸들러가 한 번만 호출되도록 한다.

- 즉, 디바운스는 짧은 시간 간격으로 발생하는 이벤트를 그룹화해서 마지막에 한 번만 이벤트 핸들러가 호출되도록 한다.

  <img width="1155" alt="image" src="https://github.com/Yoonkyoungme/js-deep-dive-study/assets/76903801/b55a44e6-6ab0-46d8-9ba3-154a95ef67b4">

-  ### 스로틀

-  스로틀throttle은 짧은 시간 간격으로 이벤트가 연속해서 발생하더라도 일정 시간 간격으로 이벤트 핸들러가 최대 한 번만 호출되도록 한다. 즉, 스로틀은 짧은 시간 간격으로 연속해서 발생하는 이벤트를 그룹화해서 일정 시간 단위로 이벤트 핸들러가 호출되도록 호출 주기를 만든다.
